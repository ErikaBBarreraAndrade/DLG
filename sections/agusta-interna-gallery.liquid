<div class="container-fluid">
  <div class="row justify-content-lg-center">
    <div class="col-12 col-lg-12 col-xl-11 col-xxl-9">
      <div class="grid-overflow-wrapper row">
        <div class="grid grid--uniform" data-aos="overflow__animation">
          {%- liquid
          assign grid_item_width = 'small--one-half medium-up--one-third'
          case per_row
            when 1
              assign grid_item_width = ''
            when 2
              assign grid_item_width = 'medium-up--one-half'
            when 3
              assign grid_item_width = 'small--one-half medium-up--one-third'
            when 4
              assign grid_item_width = 'small--one-half medium-up--one-quarter'
            when 5
              assign grid_item_width = 'small--one-half medium-up--one-fifth'
          endcase
        -%}
              <div class="grid__item grid-product {{ grid_item_width }} d-flex" data-aos="row-of-{{ per_row }}">
                {% for block in section.blocks %}
                <div class="col-12 block-image">
                  <a href="{{block.settings.image | img_url: 'master'}}" data-fancybox="images">
                  <img class="feature-row__image lazyload img-fluid"
                       data-src="{{block.settings.image | img_url: 'master'}}"
                       data-widths="[180, 360, 540, 720, 900, 1080]"
                       data-sizes="auto"
                       width="{{ block.settings.image.width }}"
                       height="{{ block.settings.image.width | divided_by: block.settings.image.aspect_ratio | round }}"
                       alt="">
                  </a>
                </div>
                {%- endfor -%}
              </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
"name": "Gallery blocks inside",
    "class": "agusta-brutale-800-gallery",
    "settings": [
    ],
    "blocks": [
      {
        "type": "text_block",
        "name": "Column",
        "settings": [
         {
              "type": "header",
              "content": "==== Imagen ===="
          },
          {
              "type": "image_picker",
              "id": "image",
              "label": "Imagen"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Gallery blocks inside",
        "category": "image",
        "blocks": [
          {
            "type": "text_block"
          },
          {
            "type": "text_block"
          },
          {
            "type": "text_block"
          }
        ]
      }
    ]
  }
{% endschema %}
<script>

</script>
